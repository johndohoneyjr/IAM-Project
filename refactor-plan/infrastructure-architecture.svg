<?xml version="1.0" encoding="UTF-8"?>
<svg width="1600" height="1200" viewBox="0 0 1600 1200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients -->
    <linearGradient id="headerGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#0078d4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#106ebe;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="azureGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e3f2fd;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1976d2;stop-opacity:0.8" />
    </linearGradient>
    
    <linearGradient id="devGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e8f5e8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4caf50;stop-opacity:0.8" />
    </linearGradient>
    
    <linearGradient id="testGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fff3e0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f57c00;stop-opacity:0.8" />
    </linearGradient>
    
    <linearGradient id="prodGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fce4ec;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e91e63;stop-opacity:0.8" />
    </linearGradient>
    
    <linearGradient id="azdoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f3e5f5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#9c27b0;stop-opacity:0.8" />
    </linearGradient>
    
    <!-- Drop shadow filter -->
    <filter id="dropshadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="3" flood-color="#00000040"/>
    </filter>
    
    <!-- Arrow markers -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
    
    <marker id="arrowheadBlue" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1976d2" />
    </marker>
    
    <marker id="arrowheadGreen" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1600" height="1200" fill="#fafafa"/>
  
  <!-- Header -->
  <rect x="0" y="0" width="1600" height="80" fill="url(#headerGradient)" filter="url(#dropshadow)"/>
  <text x="800" y="35" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="24" font-weight="bold" fill="white">
    OneStream Azure Infrastructure &amp; Pipeline Architecture
  </text>
  <text x="800" y="60" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="14" fill="#e6f3ff">
    End-to-End DevOps Pipeline with Azure Infrastructure Integration
  </text>
  
  <!-- Azure DevOps Section -->
  <rect x="50" y="100" width="300" height="850" rx="10" ry="10" 
        fill="url(#azdoGradient)" stroke="#9c27b0" stroke-width="2" filter="url(#dropshadow)"/>
  <text x="200" y="130" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#4a148c">
    Azure DevOps
  </text>
  <text x="200" y="150" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" fill="#333">
    Pipeline Orchestration
  </text>
  
  <!-- Source Control -->
  <rect x="70" y="170" width="260" height="80" rx="6" ry="6" 
        fill="white" stroke="#7b1fa2" stroke-width="1.5"/>
  <text x="200" y="190" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="14" font-weight="bold" fill="#4a148c">
    Azure Repos
  </text>
  <text x="200" y="210" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Git repositories with branch policies
  </text>
  <text x="200" y="225" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Path-based triggers (src/iam/**)
  </text>
  <text x="200" y="240" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Pull request validation gates
  </text>
  
  <!-- Pipeline Agents -->
  <rect x="70" y="270" width="260" height="80" rx="6" ry="6" 
        fill="white" stroke="#7b1fa2" stroke-width="1.5"/>
  <text x="200" y="290" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="14" font-weight="bold" fill="#4a148c">
    Azure Pipelines
  </text>
  <text x="200" y="310" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Microsoft-hosted Ubuntu agents
  </text>
  <text x="200" y="325" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Service-specific YAML pipelines
  </text>
  <text x="200" y="340" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Template-based governance
  </text>
  
  <!-- Service Connections -->
  <rect x="70" y="370" width="260" height="100" rx="6" ry="6" 
        fill="white" stroke="#7b1fa2" stroke-width="1.5"/>
  <text x="200" y="390" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="14" font-weight="bold" fill="#4a148c">
    Service Connections
  </text>
  <text x="200" y="410" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • sc-onestream-poc-dev (AcrPush/Pull)
  </text>
  <text x="200" y="425" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • sc-onestream-poc-staging (AcrPull)
  </text>
  <text x="200" y="440" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • sc-onestream-poc-promotion
  </text>
  <text x="200" y="455" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Least privilege RBAC model
  </text>
  
  <!-- Build Stages -->
  <rect x="70" y="490" width="260" height="120" rx="6" ry="6" 
        fill="white" stroke="#7b1fa2" stroke-width="1.5"/>
  <text x="200" y="510" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="14" font-weight="bold" fill="#4a148c">
    Pipeline Stages
  </text>
  <text x="200" y="530" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    1. Build &amp; Test (Unit/Integration)
  </text>
  <text x="200" y="545" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    2. Security Scan (Trivy/OWASP)
  </text>
  <text x="200" y="560" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    3. Container Build (ACR Task)
  </text>
  <text x="200" y="575" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    4. Cosign Signing (Azure Key Vault)
  </text>
  <text x="200" y="590" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    5. Promotion (Direct ACR Import)
  </text>
  
  <!-- Monitoring -->
  <rect x="70" y="630" width="260" height="80" rx="6" ry="6" 
        fill="white" stroke="#7b1fa2" stroke-width="1.5"/>
  <text x="200" y="650" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="14" font-weight="bold" fill="#4a148c">
    Pipeline Monitoring
  </text>
  <text x="200" y="670" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Build duration metrics (target &lt;25min)
  </text>
  <text x="200" y="685" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Success rate tracking (target >95%)
  </text>
  <text x="200" y="700" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • DORA metrics collection
  </text>
  
  <!-- Key Vault for Secrets -->
  <rect x="70" y="730" width="260" height="100" rx="6" ry="6" 
        fill="white" stroke="#7b1fa2" stroke-width="1.5"/>
  <text x="200" y="750" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="14" font-weight="bold" fill="#4a148c">
    Secret Management
  </text>
  <text x="200" y="770" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Variable groups with Key Vault
  </text>
  <text x="200" y="785" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Service connection credentials
  </text>
  <text x="200" y="800" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Container registry tokens
  </text>
  <text x="200" y="815" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    • Environment-specific secrets
  </text>
  
  <!-- Development Environment -->
  <rect x="400" y="100" width="350" height="280" rx="10" ry="10" 
        fill="url(#devGradient)" stroke="#4caf50" stroke-width="2" filter="url(#dropshadow)"/>
  <text x="575" y="130" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#1b5e20">
    Development Environment
  </text>
  <text x="575" y="150" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" fill="#333">
    onestream-poc-dev-rg
  </text>
  
  <!-- Dev ACR -->
  <rect x="420" y="170" width="140" height="90" rx="6" ry="6" 
        fill="white" stroke="#388e3c" stroke-width="1.5"/>
  <text x="490" y="190" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#2e7d32">
    onestreamdev.azurecr.io
  </text>
  <text x="490" y="210" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Build target registry
  </text>
  <text x="490" y="225" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Digest capture point
  </text>
  <text x="490" y="240" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Cosign signature storage
  </text>
  <text x="490" y="255" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Premium SKU with geo-replication
  </text>
  
  <!-- Dev AKS -->
  <rect x="580" y="170" width="140" height="90" rx="6" ry="6" 
        fill="white" stroke="#388e3c" stroke-width="1.5"/>
  <text x="650" y="190" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#2e7d32">
    onestream-poc-dev-aks
  </text>
  <text x="650" y="210" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Azure Linux 3.0 FIPS nodes
  </text>
  <text x="650" y="225" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Automatic deployment
  </text>
  <text x="650" y="240" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Signature verification
  </text>
  <text x="650" y="255" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Network isolation
  </text>
  
  <!-- Dev Key Vault -->
  <rect x="420" y="280" width="140" height="80" rx="6" ry="6" 
        fill="white" stroke="#388e3c" stroke-width="1.5"/>
  <text x="490" y="300" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#2e7d32">
    onestream-poc-kv-dev
  </text>
  <text x="490" y="320" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Cosign signing keys (HSM)
  </text>
  <text x="490" y="335" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Application secrets
  </text>
  <text x="490" y="350" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • FIPS 140-2 Level 3 compliance
  </text>
  
  <!-- Dev Virtual Network -->
  <rect x="580" y="280" width="140" height="80" rx="6" ry="6" 
        fill="white" stroke="#388e3c" stroke-width="1.5"/>
  <text x="650" y="300" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#2e7d32">
    onestream-poc-vnet
  </text>
  <text x="650" y="320" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • 10.100.0.0/16 address space
  </text>
  <text x="650" y="335" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Subnet isolation
  </text>
  <text x="650" y="350" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • NSG security rules
  </text>
  
  <!-- Test Environment -->
  <rect x="800" y="100" width="350" height="280" rx="10" ry="10" 
        fill="url(#testGradient)" stroke="#f57c00" stroke-width="2" filter="url(#dropshadow)"/>
  <text x="975" y="130" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#e65100">
    Test/Staging Environment
  </text>
  <text x="975" y="150" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" fill="#333">
    onestream-poc-staging-rg
  </text>
  
  <!-- Staging ACR -->
  <rect x="820" y="170" width="140" height="90" rx="6" ry="6" 
        fill="white" stroke="#f57c00" stroke-width="1.5"/>
  <text x="890" y="190" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#ef6c00">
    onestreamstaging.azurecr.io
  </text>
  <text x="890" y="210" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Promotion target
  </text>
  <text x="890" y="225" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Direct ACR import
  </text>
  <text x="890" y="240" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Digest preservation
  </text>
  <text x="890" y="255" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Automated vulnerability scan
  </text>
  
  <!-- Staging AKS -->
  <rect x="980" y="170" width="140" height="90" rx="6" ry="6" 
        fill="white" stroke="#f57c00" stroke-width="1.5"/>
  <text x="1050" y="190" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#ef6c00">
    onestream-poc-staging-aks
  </text>
  <text x="1050" y="210" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Manual approval gate
  </text>
  <text x="1050" y="225" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Integration testing
  </text>
  <text x="1050" y="240" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Performance validation
  </text>
  <text x="1050" y="255" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Pre-production workloads
  </text>
  
  <!-- Staging monitoring -->
  <rect x="820" y="280" width="140" height="80" rx="6" ry="6" 
        fill="white" stroke="#f57c00" stroke-width="1.5"/>
  <text x="890" y="300" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#ef6c00">
    Azure Monitor
  </text>
  <text x="890" y="320" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Application Insights
  </text>
  <text x="890" y="335" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Log Analytics workspace
  </text>
  <text x="890" y="350" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Performance metrics
  </text>
  
  <!-- Staging Load Testing -->
  <rect x="980" y="280" width="140" height="80" rx="6" ry="6" 
        fill="white" stroke="#f57c00" stroke-width="1.5"/>
  <text x="1050" y="300" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#ef6c00">
    Azure Load Testing
  </text>
  <text x="1050" y="320" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Automated load tests
  </text>
  <text x="1050" y="335" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Capacity validation
  </text>
  <text x="1050" y="350" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Regression testing
  </text>
  
  <!-- Production Environment -->
  <rect x="1200" y="100" width="350" height="280" rx="10" ry="10" 
        fill="url(#prodGradient)" stroke="#e91e63" stroke-width="2" filter="url(#dropshadow)"/>
  <text x="1375" y="130" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#ad1457">
    Production Environment
  </text>
  <text x="1375" y="150" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" fill="#333">
    onestream-poc-prod-rg
  </text>
  
  <!-- Prod ACR -->
  <rect x="1220" y="170" width="140" height="90" rx="6" ry="6" 
        fill="white" stroke="#c2185b" stroke-width="1.5"/>
  <text x="1290" y="190" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#ad1457">
    onestreamprod.azurecr.io
  </text>
  <text x="1290" y="210" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Production images only
  </text>
  <text x="1290" y="225" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Verified signatures required
  </text>
  <text x="1290" y="240" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Change approval gate
  </text>
  <text x="1290" y="255" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Immutable image policy
  </text>
  
  <!-- Prod AKS -->
  <rect x="1380" y="170" width="140" height="90" rx="6" ry="6" 
        fill="white" stroke="#c2185b" stroke-width="1.5"/>
  <text x="1450" y="190" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#ad1457">
    onestream-prod-aks
  </text>
  <text x="1450" y="210" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Canary deployments
  </text>
  <text x="1450" y="225" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Blue/green strategy
  </text>
  <text x="1450" y="240" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Automated rollback
  </text>
  <text x="1450" y="255" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • 24/7 monitoring
  </text>
  
  <!-- Prod Security -->
  <rect x="1220" y="280" width="140" height="80" rx="6" ry="6" 
        fill="white" stroke="#c2185b" stroke-width="1.5"/>
  <text x="1290" y="300" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#ad1457">
    Production Security
  </text>
  <text x="1290" y="320" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Azure Security Center
  </text>
  <text x="1290" y="335" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Microsoft Defender
  </text>
  <text x="1290" y="350" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Policy compliance scanning
  </text>
  
  <!-- Prod Backup & DR -->
  <rect x="1380" y="280" width="140" height="80" rx="6" ry="6" 
        fill="white" stroke="#c2185b" stroke-width="1.5"/>
  <text x="1450" y="300" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#ad1457">
    Backup &amp; DR
  </text>
  <text x="1450" y="320" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Azure Backup
  </text>
  <text x="1450" y="335" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Geo-redundant storage
  </text>
  <text x="1450" y="350" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Business continuity plan
  </text>
  
  <!-- Shared Services -->
  <rect x="400" y="420" width="750" height="160" rx="10" ry="10" 
        fill="url(#azureGradient)" stroke="#1976d2" stroke-width="2" filter="url(#dropshadow)"/>
  <text x="775" y="450" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#0d47a1">
    Shared Azure Services
  </text>
  <text x="775" y="470" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" fill="#333">
    Cross-Environment Infrastructure Components
  </text>
  
  <!-- Shared services row 1 -->
  <rect x="430" y="490" width="130" height="80" rx="6" ry="6" 
        fill="white" stroke="#1565c0" stroke-width="1.5"/>
  <text x="495" y="510" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#0d47a1">
    Azure Active Directory
  </text>
  <text x="495" y="530" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Service principals
  </text>
  <text x="495" y="545" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • RBAC assignments
  </text>
  <text x="495" y="560" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Conditional access
  </text>
  
  <rect x="580" y="490" width="130" height="80" rx="6" ry="6" 
        fill="white" stroke="#1565c0" stroke-width="1.5"/>
  <text x="645" y="510" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#0d47a1">
    Azure DNS
  </text>
  <text x="645" y="530" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Private DNS zones
  </text>
  <text x="645" y="545" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Service discovery
  </text>
  <text x="645" y="560" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Internal resolution
  </text>
  
  <rect x="730" y="490" width="130" height="80" rx="6" ry="6" 
        fill="white" stroke="#1565c0" stroke-width="1.5"/>
  <text x="795" y="510" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#0d47a1">
    Azure Front Door
  </text>
  <text x="795" y="530" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Global load balancing
  </text>
  <text x="795" y="545" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • WAF protection
  </text>
  <text x="795" y="560" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • SSL termination
  </text>
  
  <rect x="880" y="490" width="130" height="80" rx="6" ry="6" 
        fill="white" stroke="#1565c0" stroke-width="1.5"/>
  <text x="945" y="510" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#0d47a1">
    Azure Policy
  </text>
  <text x="945" y="530" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Governance rules
  </text>
  <text x="945" y="545" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Compliance reporting
  </text>
  <text x="945" y="560" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Resource tagging
  </text>
  
  <rect x="1030" y="490" width="130" height="80" rx="6" ry="6" 
        fill="white" stroke="#1565c0" stroke-width="1.5"/>
  <text x="1095" y="510" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#0d47a1">
    Azure Sentinel
  </text>
  <text x="1095" y="530" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Security monitoring
  </text>
  <text x="1095" y="545" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Threat detection
  </text>
  <text x="1095" y="560" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Incident response
  </text>
  
  <!-- Pipeline Flow Arrows -->
  <!-- DevOps to Dev -->
  <path d="M 350,280 L 390,240" stroke="#9c27b0" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="370" y="250" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#9c27b0" font-weight="bold">
    Build &amp; Deploy
  </text>
  
  <!-- Dev to Staging -->
  <path d="M 750,240 L 810,240" stroke="#4caf50" stroke-width="3" marker-end="url(#arrowheadGreen)"/>
  <text x="780" y="230" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#4caf50" font-weight="bold">
    ACR Import
  </text>
  <text x="780" y="255" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    Direct digest transfer
  </text>
  
  <!-- Staging to Production -->
  <path d="M 1150,240 L 1210,240" stroke="#f57c00" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="1180" y="230" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#f57c00" font-weight="bold">
    Promote
  </text>
  <text x="1180" y="255" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    Manual approval
  </text>
  
  <!-- Security and Compliance Section -->
  <rect x="50" y="620" width="1500" height="200" rx="10" ry="10" 
        fill="#f8f9fa" stroke="#6c757d" stroke-width="2" filter="url(#dropshadow)"/>
  <text x="800" y="650" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#495057">
    Security &amp; Compliance Framework
  </text>
  
  <!-- Security components -->
  <rect x="80" y="670" width="200" height="120" rx="6" ry="6" 
        fill="white" stroke="#dc3545" stroke-width="1.5"/>
  <text x="180" y="690" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#dc3545">
    Cryptographic Signing
  </text>
  <text x="180" y="710" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Cosign with Azure Key Vault HSM
  </text>
  <text x="180" y="725" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • FIPS 140-2 Level 3 compliance
  </text>
  <text x="180" y="740" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Supply chain attestation
  </text>
  <text x="180" y="755" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Signature verification gates
  </text>
  <text x="180" y="770" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Immutable artifact tracking
  </text>
  
  <rect x="300" y="670" width="200" height="120" rx="6" ry="6" 
        fill="white" stroke="#dc3545" stroke-width="1.5"/>
  <text x="400" y="690" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#dc3545">
    Vulnerability Management
  </text>
  <text x="400" y="710" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Trivy container scanning
  </text>
  <text x="400" y="725" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • OWASP dependency check
  </text>
  <text x="400" y="740" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • CVE database integration
  </text>
  <text x="400" y="755" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Automated remediation
  </text>
  <text x="400" y="770" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Policy-based blocking
  </text>
  
  <rect x="520" y="670" width="200" height="120" rx="6" ry="6" 
        fill="white" stroke="#dc3545" stroke-width="1.5"/>
  <text x="620" y="690" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#dc3545">
    Network Security
  </text>
  <text x="620" y="710" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Private VNet integration
  </text>
  <text x="620" y="725" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Network security groups
  </text>
  <text x="620" y="740" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Azure Firewall rules
  </text>
  <text x="620" y="755" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Private endpoints
  </text>
  <text x="620" y="770" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Zero-trust architecture
  </text>
  
  <rect x="740" y="670" width="200" height="120" rx="6" ry="6" 
        fill="white" stroke="#dc3545" stroke-width="1.5"/>
  <text x="840" y="690" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#dc3545">
    Access Control
  </text>
  <text x="840" y="710" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Azure RBAC integration
  </text>
  <text x="840" y="725" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Least privilege principles
  </text>
  <text x="840" y="740" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Conditional access policies
  </text>
  <text x="840" y="755" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Service principal isolation
  </text>
  <text x="840" y="770" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Multi-factor authentication
  </text>
  
  <rect x="960" y="670" width="200" height="120" rx="6" ry="6" 
        fill="white" stroke="#dc3545" stroke-width="1.5"/>
  <text x="1060" y="690" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#dc3545">
    Audit &amp; Monitoring
  </text>
  <text x="1060" y="710" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Azure Activity Log
  </text>
  <text x="1060" y="725" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Security event tracking
  </text>
  <text x="1060" y="740" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Compliance reporting
  </text>
  <text x="1060" y="755" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Real-time alerting
  </text>
  <text x="1060" y="770" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Forensic analysis
  </text>
  
  <rect x="1180" y="670" width="200" height="120" rx="6" ry="6" 
        fill="white" stroke="#dc3545" stroke-width="1.5"/>
  <text x="1280" y="690" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#dc3545">
    Compliance Framework
  </text>
  <text x="1280" y="710" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • SOC 2 Type II compliance
  </text>
  <text x="1280" y="725" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • FedRAMP baseline controls
  </text>
  <text x="1280" y="740" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • NIST Cybersecurity Framework
  </text>
  <text x="1280" y="755" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Industry best practices
  </text>
  <text x="1280" y="770" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="9" fill="#333">
    • Regular assessments
  </text>
  
  <!-- Performance Metrics -->
  <rect x="50" y="850" width="1500" height="120" rx="10" ry="10" 
        fill="#e3f2fd" stroke="#1976d2" stroke-width="2" filter="url(#dropshadow)"/>
  <text x="800" y="880" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#0d47a1">
    Performance &amp; Reliability Metrics
  </text>
  
  <!-- Metrics boxes -->
  <rect x="100" y="900" width="200" height="60" rx="6" ry="6" 
        fill="white" stroke="#1976d2" stroke-width="1.5"/>
  <text x="200" y="920" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#0d47a1">
    Pipeline Performance
  </text>
  <text x="200" y="935" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    Current: 45-60 min → Target: &lt;25 min
  </text>
  <text x="200" y="950" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    60% improvement in execution time
  </text>
  
  <rect x="320" y="900" width="200" height="60" rx="6" ry="6" 
        fill="white" stroke="#1976d2" stroke-width="1.5"/>
  <text x="420" y="920" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#0d47a1">
    Deployment Frequency
  </text>
  <text x="420" y="935" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    DORA Elite: Multiple per day
  </text>
  <text x="420" y="950" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    Service isolation enables frequent releases
  </text>
  
  <rect x="540" y="900" width="200" height="60" rx="6" ry="6" 
        fill="white" stroke="#1976d2" stroke-width="1.5"/>
  <text x="640" y="920" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#0d47a1">
    Lead Time for Changes
  </text>
  <text x="640" y="935" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    Target: &lt;1 hour (DORA Elite)
  </text>
  <text x="640" y="950" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    Automated pipeline reduces manual steps
  </text>
  
  <rect x="760" y="900" width="200" height="60" rx="6" ry="6" 
        fill="white" stroke="#1976d2" stroke-width="1.5"/>
  <text x="860" y="920" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#0d47a1">
    Change Failure Rate
  </text>
  <text x="860" y="935" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    Target: 0-15% (DORA Elite)
  </text>
  <text x="860" y="950" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    Testing &amp; validation at each stage
  </text>
  
  <rect x="980" y="900" width="200" height="60" rx="6" ry="6" 
        fill="white" stroke="#1976d2" stroke-width="1.5"/>
  <text x="1080" y="920" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#0d47a1">
    Mean Time to Recovery
  </text>
  <text x="1080" y="935" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    Target: &lt;1 hour (DORA Elite)
  </text>
  <text x="1080" y="950" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    Automated rollback with digest refs
  </text>
  
  <rect x="1200" y="900" width="200" height="60" rx="6" ry="6" 
        fill="white" stroke="#1976d2" stroke-width="1.5"/>
  <text x="1300" y="920" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#0d47a1">
    Availability SLA
  </text>
  <text x="1300" y="935" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    Target: 99.9% uptime
  </text>
  <text x="1300" y="950" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#333">
    Multi-region deployment strategy
  </text>
  
  <!-- Footer -->
  <text x="800" y="1000" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="11" fill="#666">
    OneStream DevOps Initiative | Comprehensive Azure Infrastructure Architecture | Executive Governance Review
  </text>
  <text x="800" y="1020" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="10" fill="#999">
    Architecture follows Microsoft Well-Architected Framework: Reliability • Security • Cost Optimization • Operational Excellence • Performance Efficiency
  </text>
</svg>